{"version":3,"file":"_categoryName_-CKWfPoxG.js","sources":["../../../../pages/[categoryName].vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center mt-10 min-h-screen\">\n    <h2 class=\"text-3xl font-semibold mb-4 text-gray-800\">{{ title }}</h2>\n    <ul\n      class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-4\"\n      v-if=\"selectedCategories.length\"\n    >\n      <li\n        v-for=\"subCategory in selectedCategories\"\n        :key=\"subCategory.id\"\n        class=\"bg-white shadow-md rounded-lg overflow-hidden transition-transform duration-300 transform hover:scale-105\"\n      >\n        <NuxtLink :to=\"getSubCategoryLink(subCategory)\" class=\"block p-4\">\n          <h3 class=\"text-xl font-bold text-gray-800 mb-2\">\n            {{ subCategory.locale[treeStore.selectedLanguage]?.cg_name }}\n          </h3>\n          <p class=\"text-sm text-gray-600\">\n            {{ subCategory.locale[treeStore.selectedLanguage]?.cg_description }}\n          </p>\n        </NuxtLink>\n      </li>\n    </ul>\n    <p\n      v-else-if=\"selectedCategories && selectedCategories.length === 0\"\n      class=\"text-gray-500\"\n    >\n      Подкатегорий нет.\n    </p>\n    <p v-else class=\"text-gray-500\">Загрузка подкатегорий...</p>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { useTreeStore } from '../store/useTreeStore';\nimport type { Child } from '../types/TreeData';\n\nconst treeStore = useTreeStore();\nconst route = useRoute();\n\ntype Language = 'en' | 'ru' | 'fr';\n\nonMounted(async () => {\n  await treeStore.fetchTreeData();\n});\n\nconst title = computed(() => treeStore.selectedLanguage === 'ru' ? 'Подкатегории' : 'Subcategories');\n\nconst selectedCategories = computed<Child[]>(() => {\n  const categoryPath = route.path;\n\n  const category = treeStore.treeData.find(\n    (cat) => '/' + cat.locale[treeStore.selectedLanguage as Language]?.link === categoryPath\n  );\n  return category?.childs || [];\n});\n\nfunction getSubCategoryLink(subCategory: Child) {\n  const link = subCategory.locale[treeStore.selectedLanguage as Language]?.link;\n  return link ? `/${link}` : `/${subCategory.id}`;\n}\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsCA,UAAM,YAAY,aAAa;AAC/B,UAAM,QAAQ,SAAS;AAQvB,UAAM,QAAQ,SAAS,MAAM,UAAU,qBAAqB,OAAO,iBAAiB,eAAe;AAE7F,UAAA,qBAAqB,SAAkB,MAAM;AACjD,YAAM,eAAe,MAAM;AAErB,YAAA,WAAW,UAAU,SAAS;AAAA,QAClC,CAAC,QAAQ;;AAAA,yBAAM,SAAI,OAAO,UAAU,gBAA4B,MAAjD,mBAAoD,UAAS;AAAA;AAAA,MAC9E;AACO,cAAA,qCAAU,WAAU,CAAC;AAAA,IAAA,CAC7B;AAED,aAAS,mBAAmB,aAAoB;;AAC9C,YAAM,QAAO,iBAAY,OAAO,UAAU,gBAA4B,MAAzD,mBAA4D;AACzE,aAAO,OAAO,IAAI,IAAI,KAAK,IAAI,YAAY,EAAE;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}